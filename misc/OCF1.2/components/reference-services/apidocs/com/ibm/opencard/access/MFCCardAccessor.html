<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Thu Dec 02 15:53:45 GMT+01:00 1999 -->
<TITLE>
: Class  MFCCardAccessor
</TITLE>
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">
</HEAD>
<BODY BGCOLOR="white">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" ID="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT ID="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="package-summary.html"><FONT ID="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" ID="NavBarCell1Rev"> &nbsp;<FONT ID="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="package-tree.html"><FONT ID="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT ID="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT ID="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT ID="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" ID="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/ibm/opencard/access/MFCAccessorFactory.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/ibm/opencard/access/MFCCHVProvider.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" ID="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MFCCardAccessor.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" ID="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" ID="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.ibm.opencard.access</FONT>
<BR>
Class  MFCCardAccessor</H2>
<PRE>
java.lang.Object
  |
  +--<B>com.ibm.opencard.access.MFCCardAccessor</B>
</PRE>
<HR>
<DL>
<DT>public class <B>MFCCardAccessor</B><DT>extends java.lang.Object<DT>implements <A HREF="../../../../com/ibm/opencard/service/CardAccessor.html">CardAccessor</A></DL>

<P>
The card accessor is responsible for satisfying access conditions.
 Command APDUs to be sent to the card will be passed to the accessor first,
 along with access conditions. The accessor then uses the mid and low level
 communication methods of the channel to satisfy the access conditions and
 to execute the command. It relies on a helper class for CHV, while other
 access conditions (except ALWays and NEVer) are not supported due to US
 export regulations.
<P>
<HR>

<P>
<!-- ======== INNER CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" ID="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/access/MFCCardAccessor.html#card_channel">card_channel</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This channel will be used to exchange APDUs with the smartcard.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../com/ibm/opencard/access/MFCCredentialSet.html">MFCCredentialSet</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/access/MFCCardAccessor.html#credential_set">credential_set</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The set of credentials available to this accessor.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../com/ibm/opencard/access/MFCCHVProvider.html">MFCCHVProvider</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/access/MFCCardAccessor.html#helper_CHV">helper_CHV</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This helper will take care of card holder verification.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" ID="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/access/MFCCardAccessor.html#MFCCardAccessor(com.ibm.opencard.access.MFCCHVProvider)">MFCCardAccessor</A></B>(<A HREF="../../../../com/ibm/opencard/access/MFCCHVProvider.html">MFCCHVProvider</A>&nbsp;chverifier)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a new accessor.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" ID="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;opencard.core.terminal.ResponseAPDU</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/access/MFCCardAccessor.html#execCommand(com.ibm.opencard.service.MFCCommandAPDU, com.ibm.opencard.access.MFCAccessConditions)">execCommand</A></B>(<A HREF="../../../../com/ibm/opencard/service/MFCCommandAPDU.html">MFCCommandAPDU</A>&nbsp;command,
            <A HREF="../../../../com/ibm/opencard/access/MFCAccessConditions.html">MFCAccessConditions</A>&nbsp;access)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Exchange APDUs with the smartcard.
 </TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;opencard.core.terminal.ResponseAPDU</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/access/MFCCardAccessor.html#executeCommand(opencard.core.terminal.CommandAPDU, com.ibm.opencard.service.AccessConditions)">executeCommand</A></B>(opencard.core.terminal.CommandAPDU&nbsp;command,
               <A HREF="../../../../com/ibm/opencard/service/AccessConditions.html">AccessConditions</A>&nbsp;access)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generic method to exchange APDUs with the smartcard.
 </TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/ibm/opencard/access/MFCCredentialSet.html">MFCCredentialSet</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/access/MFCCardAccessor.html#getCredentials()">getCredentials</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the set of credentials.
 </TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;opencard.core.terminal.ResponseAPDU</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/access/MFCCardAccessor.html#retryWithCHV(com.ibm.opencard.service.MFCCommandAPDU, com.ibm.opencard.access.MFCAccessConditions)">retryWithCHV</A></B>(<A HREF="../../../../com/ibm/opencard/service/MFCCommandAPDU.html">MFCCommandAPDU</A>&nbsp;command,
             <A HREF="../../../../com/ibm/opencard/access/MFCAccessConditions.html">MFCAccessConditions</A>&nbsp;access)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retry a command after performing CHV.
 </TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/access/MFCCardAccessor.html#setChannel(com.ibm.opencard.service.MFCCardChannel)">setChannel</A></B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;channel)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the channel to which this accessor is connected.
 </TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/access/MFCCardAccessor.html#setCHVDialog(opencard.core.service.CHVDialog)">setCHVDialog</A></B>(opencard.core.service.CHVDialog&nbsp;dialog)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the CHV dialog to be used if CHV is required.
 </TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" ID="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD><CODE>clone, 
equals, 
finalize, 
getClass, 
hashCode, 
notify, 
notifyAll, 
toString, 
wait, 
wait, 
wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" ID="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="card_channel"><!-- --></A><H3>
card_channel</H3>
<PRE>
protected <A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A> <B>card_channel</B></PRE>
<DL>
<DD>This channel will be used to exchange APDUs with the smartcard.</DL>
<HR>

<A NAME="credential_set"><!-- --></A><H3>
credential_set</H3>
<PRE>
protected <A HREF="../../../../com/ibm/opencard/access/MFCCredentialSet.html">MFCCredentialSet</A> <B>credential_set</B></PRE>
<DL>
<DD>The set of credentials available to this accessor.</DL>
<HR>

<A NAME="helper_CHV"><!-- --></A><H3>
helper_CHV</H3>
<PRE>
protected <A HREF="../../../../com/ibm/opencard/access/MFCCHVProvider.html">MFCCHVProvider</A> <B>helper_CHV</B></PRE>
<DL>
<DD>This helper will take care of card holder verification.</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" ID="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="MFCCardAccessor(com.ibm.opencard.access.MFCCHVProvider)"><!-- --></A><H3>
MFCCardAccessor</H3>
<PRE>
public <B>MFCCardAccessor</B>(<A HREF="../../../../com/ibm/opencard/access/MFCCHVProvider.html">MFCCHVProvider</A>&nbsp;chverifier)</PRE>
<DL>
<DD>Create a new accessor.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>chverifier</CODE> - the helper for Card Holder Verification</DL>
</DD>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" ID="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="getCredentials()"><!-- --></A><H3>
getCredentials</H3>
<PRE>
public <A HREF="../../../../com/ibm/opencard/access/MFCCredentialSet.html">MFCCredentialSet</A> <B>getCredentials</B>()</PRE>
<DL>
<DD>Gets the set of credentials.
 An application provides the credentials to be used in a
 <tt>CredentialBag</tt>, which contains card-specific
 <tt>CredentialStore</tt> objects. The card service extracts the
 credential stores for MFC smartcards and copies the credentials
 to a <tt>MFCCredentialSet</tt>, which will be not be used at all,
 since this accessor does not support access conditions involving
 cryptography.
 <br>
 This method is used to get the credential set for this accessor.
 After creation, that set is empty. Changes in the credential set
 will take effect immediately, no explicit set has to be performed.
 That is the reason why no set method is provided for the set of
 credentials.<DD><DL>
<DT><B>Returns:</B><DD>the set of credentials available to this accessor<DT><B>See Also: </B><DD><CODE>CredentialBag</CODE>, 
<CODE>CredentialStore</CODE>, 
<A HREF="../../../../com/ibm/opencard/access/MFCCredentialSet.html"><CODE>MFCCredentialSet</CODE></A>, 
<A HREF="../../../../com/ibm/opencard/service/MFCCardService.html"><CODE>MFCCardService</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="setChannel(com.ibm.opencard.service.MFCCardChannel)"><!-- --></A><H3>
setChannel</H3>
<PRE>
public final void <B>setChannel</B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;channel)</PRE>
<DL>
<DD>Set the channel to which this accessor is connected.
 This method is called by a channel as soon as an accessor is passed
 to it. The accessor needs to know the channel to exchange APDUs with
 the smartcard via the mid and low level methods provided there. When
 the accessor is disconnected, the channel will call this method again,
 with argument <tt>null</tt>. Consequently, an accessor can only be
 used with one channel at a time.
 <br>
 The channel could be passed as an argument to <tt>executeCommand</tt>
 instead. This is not done to simplify that method. Besides, there
 will usually be passed more than one command APDU for a channel
 allocation, so the overhead should be smaller using an explicit
 set prior to communication.<DD><DL>
<DT><B>Specified by: </B><DD><A HREF="../../../../com/ibm/opencard/service/CardAccessor.html#setChannel(com.ibm.opencard.service.MFCCardChannel)">setChannel</A> in interface <A HREF="../../../../com/ibm/opencard/service/CardAccessor.html">CardAccessor</A><DT><B>Parameters:</B><DD><CODE>channel</CODE> - the card channel to use,
                 or <tt>null</tt><DT><B>See Also: </B><DD><A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html#setAccessor(com.ibm.opencard.service.CardAccessor)"><CODE>MFCCardChannel.setAccessor(com.ibm.opencard.service.CardAccessor)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="setCHVDialog(opencard.core.service.CHVDialog)"><!-- --></A><H3>
setCHVDialog</H3>
<PRE>
public final void <B>setCHVDialog</B>(opencard.core.service.CHVDialog&nbsp;dialog)</PRE>
<DL>
<DD>Set the CHV dialog to be used if CHV is required.
 This dialog is application dependent. Therefore, this
 method is needed to supply an application-defined dialog.
 The dialog will be passed on to the CHV helper.
 <br>
 The interface <tt>CHVDialog</tt> does not explicitly require
 a screen dialog. A card terminal's IO capabilities could also
 be used.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>dialog</CODE> - the dialog to invoke if CHV is required<DT><B>See Also: </B><DD><A HREF="../../../../com/ibm/opencard/access/MFCCHVProvider.html"><CODE>MFCCHVProvider</CODE></A>, 
<CODE>CHVDialog</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="executeCommand(opencard.core.terminal.CommandAPDU, com.ibm.opencard.service.AccessConditions)"><!-- --></A><H3>
executeCommand</H3>
<PRE>
public opencard.core.terminal.ResponseAPDU <B>executeCommand</B>(opencard.core.terminal.CommandAPDU&nbsp;command,
                                                          <A HREF="../../../../com/ibm/opencard/service/AccessConditions.html">AccessConditions</A>&nbsp;access)
                                                   throws opencard.core.service.CardServiceInabilityException,
                                                          opencard.core.service.CardServiceInvalidCredentialException,
                                                          opencard.opt.service.CardServiceUnexpectedResponseException,
                                                          opencard.core.terminal.CardTerminalException</PRE>
<DL>
<DD>Generic method to exchange APDUs with the smartcard.
 This method checks and downcasts the arguments and then
 invokes <tt>execCommand</tt> below. See there for details.<DD><DL>
<DT><B>Specified by: </B><DD><A HREF="../../../../com/ibm/opencard/service/CardAccessor.html#executeCommand(opencard.core.terminal.CommandAPDU, com.ibm.opencard.service.AccessConditions)">executeCommand</A> in interface <A HREF="../../../../com/ibm/opencard/service/CardAccessor.html">CardAccessor</A></DL>
</DD>
</DL>
<HR>

<A NAME="execCommand(com.ibm.opencard.service.MFCCommandAPDU, com.ibm.opencard.access.MFCAccessConditions)"><!-- --></A><H3>
execCommand</H3>
<PRE>
public opencard.core.terminal.ResponseAPDU <B>execCommand</B>(<A HREF="../../../../com/ibm/opencard/service/MFCCommandAPDU.html">MFCCommandAPDU</A>&nbsp;command,
                                                       <A HREF="../../../../com/ibm/opencard/access/MFCAccessConditions.html">MFCAccessConditions</A>&nbsp;access)
                                                throws opencard.core.service.CardServiceInabilityException,
                                                       opencard.core.service.CardServiceInvalidCredentialException,
                                                       opencard.opt.service.CardServiceUnexpectedResponseException,
                                                       opencard.core.terminal.CardTerminalException</PRE>
<DL>
<DD>Exchange APDUs with the smartcard.
 This method is invoked by the card channel. The channel ID is already
 encoded in the command APDU, so it can be passed to the low-level send
 method immediately. This accessor is responsible for satisfying the
 access conditions involved with the command. In order to do so, it may
 have to perform a card holder verification. Other access conditions
 are not supported, due to US export regulations.
 <p>
 The current implementation uses an <I>optimistic</I> approach.
 It assumes that CHV has been performed before. If access is denied,
 the assumption was wrong and CHV is performed before the command is
 retried. This optimistic approach costs one useless command for
 each CHV to perform, but saves the trouble of keeping track of
 CHVs and their invalidation due to select commands. Worse cases may
 occur in conjunction with other access conditions, but these are
 not considered here.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>command</CODE> - the APDU to send to the smartcard<DD><CODE>access</CODE> - the access conditions for the command in the APDU<DT><B>Returns:</B><DD>the response APDU obtained from the smartcard<DT><B>Throws:</B><DD>opencard.core.service.CardServiceInabilityException - The access conditions could not be satisfied.<DD>opencard.core.service.CardServiceInvalidCredentialException - The credentials provided were incorrect.<DD>opencard.opt.service.CardServiceUnexpectedResponseException - A helper failed to interpret the smartcard's response.<DD>opencard.core.terminal.CardTerminalException - The terminal encountered an error.</DL>
</DD>
</DL>
<HR>

<A NAME="retryWithCHV(com.ibm.opencard.service.MFCCommandAPDU, com.ibm.opencard.access.MFCAccessConditions)"><!-- --></A><H3>
retryWithCHV</H3>
<PRE>
protected opencard.core.terminal.ResponseAPDU <B>retryWithCHV</B>(<A HREF="../../../../com/ibm/opencard/service/MFCCommandAPDU.html">MFCCommandAPDU</A>&nbsp;command,
                                                           <A HREF="../../../../com/ibm/opencard/access/MFCAccessConditions.html">MFCAccessConditions</A>&nbsp;access)
                                                    throws opencard.core.service.CardServiceInabilityException,
                                                           opencard.core.service.CardServiceInvalidCredentialException,
                                                           opencard.core.terminal.CardTerminalException</PRE>
<DL>
<DD>Retry a command after performing CHV.
 This method is invoked if a command failed due to access conditions
 not satisfied, and the access conditions require CHV to be performed.
 The CHV will be performed, and the command is issued again.
 <br>
 If the access conditions combine authentication and CHV, authentication
 is done before this method is invoked. This way, the CHV is queried
 from the user only if it is really required.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>command</CODE> - the command to retry<DD><CODE>access</CODE> - the access conditions to satisfy<DT><B>Returns:</B><DD>the smartcard's response to the command<DT><B>Throws:</B><DD>opencard.core.service.CardServiceInvalidCredentialException - if the password was incorrect or is blocked<DD>opencard.core.service.CardServiceInabilityException - if no CHV provider is defined<DD>opencard.core.terminal.CardTerminalException - if the terminal encountered an error</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" ID="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT ID="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="package-summary.html"><FONT ID="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" ID="NavBarCell1Rev"> &nbsp;<FONT ID="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="package-tree.html"><FONT ID="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT ID="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT ID="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT ID="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" ID="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/ibm/opencard/access/MFCAccessorFactory.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/ibm/opencard/access/MFCCHVProvider.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" ID="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MFCCardAccessor.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" ID="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" ID="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>

</BODY>
</HTML>
