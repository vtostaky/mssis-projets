<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Thu Dec 02 15:53:48 GMT+01:00 1999 -->
<TITLE>
: Class  MFCChannelState
</TITLE>
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">
</HEAD>
<BODY BGCOLOR="white">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" ID="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT ID="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="package-summary.html"><FONT ID="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" ID="NavBarCell1Rev"> &nbsp;<FONT ID="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="package-tree.html"><FONT ID="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT ID="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT ID="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT ID="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" ID="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/ibm/opencard/service/MFCCardServiceParameter.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/ibm/opencard/service/MFCCommandAPDU.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" ID="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MFCChannelState.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" ID="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" ID="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.ibm.opencard.service</FONT>
<BR>
Class  MFCChannelState</H2>
<PRE>
java.lang.Object
  |
  +--<B>com.ibm.opencard.service.MFCChannelState</B>
</PRE>
<HR>
<DL>
<DT>public class <B>MFCChannelState</B><DT>extends java.lang.Object</DL>

<P>
The smartcard's internal state, as seen through a logical channel.
 Every smartcard maintains an internal state, consisting of at least
 the selected directory and some permanent access conditions, namely
 CHV and authentication. If a card provides several logical channels
 for communication, only a part of this state is relevant for a service
 that uses this channel.
 <br>
 This class represents the internal state, as it is seen through one
 logical channel. If there are several channels, there could be another
 class that represents the global part of the state, which would be
 accessed from here. However, the current MFC cards do not support
 logical channels, so there is no such class.
 <br>
 The state represented here consist of the selected directory and file,
 the file cache, and information on the currently selected file. Access
 conditions are not represented, since we do not want to re-program the
 Card OS. Instead, commands are issued following an optimistic approach:
 The card will tell us if the access conditions are not satisfied.
 <br>
 The file cache found here is a candidate for a global state if there
 are logical channels. Obviously, the file cache does not represent
 the full hierarchical directory structure found on the card, but only
 the part of it that has been accessed by now.
<P>
<HR>

<P>
<!-- ======== INNER CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->


<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" ID="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/service/MFCChannelState.html#MFCChannelState()">MFCChannelState</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new channel state.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" ID="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/service/MFCChannelState.html#cacheObjectInfo(opencard.opt.iso.fs.CardFilePath, com.ibm.opencard.service.MFCCardObjectInfo)">cacheObjectInfo</A></B>(opencard.opt.iso.fs.CardFilePath&nbsp;obj,
                <A HREF="../../../../com/ibm/opencard/service/MFCCardObjectInfo.html">MFCCardObjectInfo</A>&nbsp;info)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stores object information in the cache.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/ibm/opencard/service/MFCCardObjectInfo.html">MFCCardObjectInfo</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/service/MFCChannelState.html#getCurrentInfo()">getCurrentInfo</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the information about the current selection.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;opencard.opt.iso.fs.CardFilePath</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/service/MFCChannelState.html#getCurrentPath()">getCurrentPath</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the current path.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/ibm/opencard/service/MFCCardObjectInfo.html">MFCCardObjectInfo</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/service/MFCChannelState.html#lookupObjectInfo(opencard.opt.iso.fs.CardFilePath)">lookupObjectInfo</A></B>(opencard.opt.iso.fs.CardFilePath&nbsp;obj)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieves object information from the cache.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/service/MFCChannelState.html#removeObjectInfo(opencard.opt.iso.fs.CardFilePath)">removeObjectInfo</A></B>(opencard.opt.iso.fs.CardFilePath&nbsp;obj)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes object information from the cache.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/service/MFCChannelState.html#setCurrentInfo(com.ibm.opencard.service.MFCCardObjectInfo)">setCurrentInfo</A></B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardObjectInfo.html">MFCCardObjectInfo</A>&nbsp;info)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the object information about the current selection.
 </TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/service/MFCChannelState.html#setCurrentPath(opencard.opt.iso.fs.CardFilePath)">setCurrentPath</A></B>(opencard.opt.iso.fs.CardFilePath&nbsp;path)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the current path.
 </TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" ID="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD><CODE>clone, 
equals, 
finalize, 
getClass, 
hashCode, 
notify, 
notifyAll, 
toString, 
wait, 
wait, 
wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->


<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" ID="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="MFCChannelState()"><!-- --></A><H3>
MFCChannelState</H3>
<PRE>
public <B>MFCChannelState</B>()</PRE>
<DL>
<DD>Creates a new channel state.</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" ID="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="setCurrentPath(opencard.opt.iso.fs.CardFilePath)"><!-- --></A><H3>
setCurrentPath</H3>
<PRE>
public final void <B>setCurrentPath</B>(opencard.opt.iso.fs.CardFilePath&nbsp;path)</PRE>
<DL>
<DD>Sets the current path.
 The information about the current selection gets
 implicitly reset to <tt>null</tt>.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>path</CODE> - the currently selected directory or file,
               or <tt>null</tt> to invalidate<DT><B>See Also: </B><DD><A HREF="../../../../com/ibm/opencard/service/MFCChannelState.html#getCurrentPath()"><CODE>getCurrentPath()</CODE></A>, 
<A HREF="../../../../com/ibm/opencard/service/MFCChannelState.html#getCurrentInfo()"><CODE>getCurrentInfo()</CODE></A>, 
<A HREF="../../../../com/ibm/opencard/service/MFCChannelState.html#setCurrentInfo(com.ibm.opencard.service.MFCCardObjectInfo)"><CODE>setCurrentInfo(com.ibm.opencard.service.MFCCardObjectInfo)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getCurrentPath()"><!-- --></A><H3>
getCurrentPath</H3>
<PRE>
public final opencard.opt.iso.fs.CardFilePath <B>getCurrentPath</B>()</PRE>
<DL>
<DD>Gets the current path.<DD><DL>
<DT><B>Returns:</B><DD>the path to the currently selected object on the card,
          or <tt>null</tt> if not set<DT><B>See Also: </B><DD><A HREF="../../../../com/ibm/opencard/service/MFCChannelState.html#setCurrentPath(opencard.opt.iso.fs.CardFilePath)"><CODE>setCurrentPath(opencard.opt.iso.fs.CardFilePath)</CODE></A>, 
<A HREF="../../../../com/ibm/opencard/service/MFCChannelState.html#setCurrentInfo(com.ibm.opencard.service.MFCCardObjectInfo)"><CODE>setCurrentInfo(com.ibm.opencard.service.MFCCardObjectInfo)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="setCurrentInfo(com.ibm.opencard.service.MFCCardObjectInfo)"><!-- --></A><H3>
setCurrentInfo</H3>
<PRE>
public final void <B>setCurrentInfo</B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardObjectInfo.html">MFCCardObjectInfo</A>&nbsp;info)</PRE>
<DL>
<DD>Sets the object information about the current selection.
 The current selection can be a file, a directory, a key, and so on.
 Depending on the kind of selected object, an information structure
 derived from <tt>MFCCardObjectInfo</tt> can be stored here.
 <br>
 The generic card service implementation uses this method to store
 information after a select has been performed. It uses an object
 passed to it's constructor to parse the smartcard's response to the
 command. It is a card service factory's responsibility to supply a
 parser that generates the information that will be needed by the
 respective service after a select has been performed. For example,
 a file service will require file information in which the record
 size of a structured file can be queried.
 <br>
 If a select command fails, the information should be set to <tt>null</tt>
 to avoid a mismatch between current selection and current information.
 This can be achieved by setting a new current path, which will implicitly
 clear the current info.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>info</CODE> - information about the current selection<DT><B>See Also: </B><DD><A HREF="../../../../com/ibm/opencard/service/MFCChannelState.html#getCurrentInfo()"><CODE>getCurrentInfo()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getCurrentInfo()"><!-- --></A><H3>
getCurrentInfo</H3>
<PRE>
public final <A HREF="../../../../com/ibm/opencard/service/MFCCardObjectInfo.html">MFCCardObjectInfo</A> <B>getCurrentInfo</B>()</PRE>
<DL>
<DD>Gets the information about the current selection.<DD><DL>
<DT><B>Returns:</B><DD>the information set with <tt>setCurrentInfo</tt>,
           or <tt>null</tt> if none is set<DT><B>See Also: </B><DD><A HREF="../../../../com/ibm/opencard/service/MFCChannelState.html#setCurrentInfo(com.ibm.opencard.service.MFCCardObjectInfo)"><CODE>setCurrentInfo(com.ibm.opencard.service.MFCCardObjectInfo)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="lookupObjectInfo(opencard.opt.iso.fs.CardFilePath)"><!-- --></A><H3>
lookupObjectInfo</H3>
<PRE>
public final <A HREF="../../../../com/ibm/opencard/service/MFCCardObjectInfo.html">MFCCardObjectInfo</A> <B>lookupObjectInfo</B>(opencard.opt.iso.fs.CardFilePath&nbsp;obj)</PRE>
<DL>
<DD>Retrieves object information from the cache.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>obj</CODE> - a card file path as object identifier<DT><B>Returns:</B><DD>the object information, or <tt>null</tt> on cache miss</DL>
</DD>
</DL>
<HR>

<A NAME="cacheObjectInfo(opencard.opt.iso.fs.CardFilePath, com.ibm.opencard.service.MFCCardObjectInfo)"><!-- --></A><H3>
cacheObjectInfo</H3>
<PRE>
public final void <B>cacheObjectInfo</B>(opencard.opt.iso.fs.CardFilePath&nbsp;obj,
                                  <A HREF="../../../../com/ibm/opencard/service/MFCCardObjectInfo.html">MFCCardObjectInfo</A>&nbsp;info)</PRE>
<DL>
<DD>Stores object information in the cache.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>obj</CODE> - a file path as object identifier<DD><CODE>info</CODE> - the information to store</DL>
</DD>
</DL>
<HR>

<A NAME="removeObjectInfo(opencard.opt.iso.fs.CardFilePath)"><!-- --></A><H3>
removeObjectInfo</H3>
<PRE>
public final void <B>removeObjectInfo</B>(opencard.opt.iso.fs.CardFilePath&nbsp;obj)</PRE>
<DL>
<DD>Removes object information from the cache.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>key</CODE> - a card file path as object identifier</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" ID="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT ID="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="package-summary.html"><FONT ID="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" ID="NavBarCell1Rev"> &nbsp;<FONT ID="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="package-tree.html"><FONT ID="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT ID="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT ID="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT ID="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" ID="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/ibm/opencard/service/MFCCardServiceParameter.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/ibm/opencard/service/MFCCommandAPDU.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" ID="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MFCChannelState.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" ID="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" ID="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>

</BODY>
</HTML>
