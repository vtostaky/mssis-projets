<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Mon Jan 17 10:03:12 GMT+01:00 2000 -->
<TITLE>
: Class  CredentialStore
</TITLE>
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">
</HEAD>
<BODY BGCOLOR="white">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" ID="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT ID="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="package-summary.html"><FONT ID="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" ID="NavBarCell1Rev"> &nbsp;<FONT ID="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="package-tree.html"><FONT ID="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT ID="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../index-all.html"><FONT ID="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT ID="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" ID="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../opencard/opt/security/CredentialBag.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../opencard/opt/security/DESKey.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" ID="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="CredentialStore.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" ID="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" ID="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
opencard.opt.security</FONT>
<BR>
Class  CredentialStore</H2>
<PRE>
java.lang.Object
  |
  +--<B>opencard.opt.security.CredentialStore</B>
</PRE>
<HR>
<DL>
<DT>public abstract class <B>CredentialStore</B><DT>extends java.lang.Object</DL>

<P>
A container for cryptographic credentials.
 Smartcards may protect access to the data stored on them by means of
 cryptography. The card services that are used to access that data will
 then require credentials to overcome this protection. The cryptographic
 algorithms that have to be used depend on the smartcard's OS. The kind
 of credential that has to be presented to the card service depends on
 the algorithm to support as well as on the service. For example, if the
 algorithm is DES, the credential may be a DES key, or an implementation
 of the DES algorithm for a specific key.
 <br>
 As a result of these dependencies, card services supporting a particular
 smartcard or smartcard family will define specific credentials that have
 to be provided to them. Additionally, they will define a store into which
 only these credentials can be put. This class is the abstract base class
 of such stores. Methods to put credentials into it as well as to retrieve
 them have to be added in dervied classes, since at least the type of the
 credentials is service specific.
 <br>
 Applications will collect their credentials for a specific smartcard in
 a credential store. Credential stores are collected in instances of class
 <tt>CredentialBag</tt>, so the same application may support different
 smartcards without having to worry about which one is inserted.
<P>
<DL>
<DT><B>See Also: </B><DD><A HREF="../../../opencard/opt/security/Credential.html"><CODE>Credential</CODE></A>, 
<A HREF="../../../opencard/opt/security/CredentialBag.html"><CODE>CredentialBag</CODE></A>, 
<CODE>CardService</CODE></DL>
<HR>

<P>
<!-- ======== INNER CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->


<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" ID="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../opencard/opt/security/CredentialStore.html#CredentialStore()">CredentialStore</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new generic store for credentials.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" ID="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../opencard/opt/security/Credential.html">Credential</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../opencard/opt/security/CredentialStore.html#fetchCredential(java.lang.Object)">fetchCredential</A></B>(java.lang.Object&nbsp;credID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieves a credential.
 </TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Enumeration</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../opencard/opt/security/CredentialStore.html#getCredentialIDs()">getCredentialIDs</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the identifiers of all credentials stored.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../opencard/opt/security/CredentialStore.html">CredentialStore</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../opencard/opt/security/CredentialStore.html#getInstance(java.lang.String)">getInstance</A></B>(java.lang.String&nbsp;className)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Instantiates a new credential store.
 </TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../opencard/opt/security/CredentialStore.html#storeCredential(java.lang.Object, opencard.opt.security.Credential)">storeCredential</A></B>(java.lang.Object&nbsp;credID,
                <A HREF="../../../opencard/opt/security/Credential.html">Credential</A>&nbsp;cred)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stores a credential.
 </TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../opencard/opt/security/CredentialStore.html#supports(opencard.core.terminal.CardID)">supports</A></B>(opencard.core.terminal.CardID&nbsp;cardID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tests whether this store supports a particular card.
 </TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" ID="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD><CODE>clone, 
equals, 
finalize, 
getClass, 
hashCode, 
notify, 
notifyAll, 
toString, 
wait, 
wait, 
wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->


<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" ID="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="CredentialStore()"><!-- --></A><H3>
CredentialStore</H3>
<PRE>
protected <B>CredentialStore</B>()</PRE>
<DL>
<DD>Creates a new generic store for credentials.</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" ID="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="supports(opencard.core.terminal.CardID)"><!-- --></A><H3>
supports</H3>
<PRE>
public abstract boolean <B>supports</B>(opencard.core.terminal.CardID&nbsp;cardID)</PRE>
<DL>
<DD>Tests whether this store supports a particular card.
 Providers of card services that require credentials have to provide
 an appropriate <tt>CredentialStore</tt> class which supports the
 same cards as the services.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>cardID</CODE> - the ATR of the smartcard to test for<DT><B>Returns:</B><DD><tt>true</tt> if the card is supported,
            <tt>false</tt> otherwise</DL>
</DD>
</DL>
<HR>

<A NAME="getInstance(java.lang.String)"><!-- --></A><H3>
getInstance</H3>
<PRE>
public static <A HREF="../../../opencard/opt/security/CredentialStore.html">CredentialStore</A> <B>getInstance</B>(java.lang.String&nbsp;className)</PRE>
<DL>
<DD>Instantiates a new credential store.
 The class to instantiate has to provide a default constructor.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>className</CODE> - a subclass of <tt>CredentialStore</tt> to instantiate<DT><B>Returns:</B><DD>a new instance of the argument class,
                    or <tt>null</tt> if the instantiation failed</DL>
</DD>
</DL>
<HR>

<A NAME="storeCredential(java.lang.Object, opencard.opt.security.Credential)"><!-- --></A><H3>
storeCredential</H3>
<PRE>
protected final void <B>storeCredential</B>(java.lang.Object&nbsp;credID,
                                     <A HREF="../../../opencard/opt/security/Credential.html">Credential</A>&nbsp;cred)</PRE>
<DL>
<DD>Stores a credential.
 The credential can be retrieved using <tt>fetchCredential</tt> with
 an identifier equal to the one passed on storing it.
 <br>
 The credentials are stored in a hashtable. The identifier therefore
 has to implement <tt>hashCode</tt> and <tt>equals</tt> appropriately.
 This method is protected since stores supporting a particular card
 will require a particular kind of credentials to be stored in them.
 They will also define an appropriate identifier for credentials.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>credID</CODE> - an identifier for the credential<DD><CODE>cred</CODE> - the credential to be stored<DT><B>See Also: </B><DD><A HREF="../../../opencard/opt/security/CredentialStore.html#fetchCredential(java.lang.Object)"><CODE>fetchCredential(java.lang.Object)</CODE></A>, 
<CODE>Hashtable</CODE>, 
<CODE>Object.hashCode()</CODE>, 
<CODE>Object.equals(java.lang.Object)</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="fetchCredential(java.lang.Object)"><!-- --></A><H3>
fetchCredential</H3>
<PRE>
protected final <A HREF="../../../opencard/opt/security/Credential.html">Credential</A> <B>fetchCredential</B>(java.lang.Object&nbsp;credID)</PRE>
<DL>
<DD>Retrieves a credential.
 This method returns the last credential that was passed to
 <tt>storeCredential</tt> with an identifier that equals the
 argument.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>credID</CODE> - an identifier for the credential to retrieve<DT><B>Returns:</B><DD>the credential for the given identifier,
            or <tt>null</tt> if not found<DT><B>See Also: </B><DD><A HREF="../../../opencard/opt/security/CredentialStore.html#storeCredential(java.lang.Object, opencard.opt.security.Credential)"><CODE>storeCredential(java.lang.Object, opencard.opt.security.Credential)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getCredentialIDs()"><!-- --></A><H3>
getCredentialIDs</H3>
<PRE>
protected final java.util.Enumeration <B>getCredentialIDs</B>()</PRE>
<DL>
<DD>Gets the identifiers of all credentials stored.<DD><DL>
<DT><B>Returns:</B><DD>an enumeration of all identifiers in this store<DT><B>See Also: </B><DD><A HREF="../../../opencard/opt/security/CredentialStore.html#storeCredential(java.lang.Object, opencard.opt.security.Credential)"><CODE>storeCredential(java.lang.Object, opencard.opt.security.Credential)</CODE></A></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" ID="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT ID="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="package-summary.html"><FONT ID="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" ID="NavBarCell1Rev"> &nbsp;<FONT ID="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="package-tree.html"><FONT ID="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT ID="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../index-all.html"><FONT ID="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT ID="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" ID="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../opencard/opt/security/CredentialBag.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../opencard/opt/security/DESKey.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" ID="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="CredentialStore.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" ID="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" ID="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>

</BODY>
</HTML>
