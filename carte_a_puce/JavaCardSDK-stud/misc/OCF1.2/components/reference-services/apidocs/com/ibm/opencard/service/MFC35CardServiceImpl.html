<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Thu Dec 02 15:53:48 GMT+01:00 1999 -->
<TITLE>
: Class  MFC35CardServiceImpl
</TITLE>
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">
</HEAD>
<BODY BGCOLOR="white">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" ID="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT ID="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="package-summary.html"><FONT ID="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" ID="NavBarCell1Rev"> &nbsp;<FONT ID="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="package-tree.html"><FONT ID="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT ID="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT ID="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT ID="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" ID="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/ibm/opencard/service/IBMCardServiceFactory.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/ibm/opencard/service/MFC35Codes.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" ID="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MFC35CardServiceImpl.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" ID="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" ID="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.ibm.opencard.service</FONT>
<BR>
Class  MFC35CardServiceImpl</H2>
<PRE>
java.lang.Object
  |
  +--<B>com.ibm.opencard.service.MFC35CardServiceImpl</B>
</PRE>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../../../com/ibm/opencard/service/MFC41CardServiceImpl.html">MFC41CardServiceImpl</A></DD>
</DL>
<HR>
<DL>
<DT>public class <B>MFC35CardServiceImpl</B><DT>extends java.lang.Object<DT>implements <A HREF="../../../../com/ibm/opencard/service/MFCCardServiceImpl.html">MFCCardServiceImpl</A></DL>

<P>
Implementation of generic card services for MFC 3.5 and some above.
 This class is stateless, one object can be used by as many card services
 as required, and for as many smartcards as required.
<P>
<HR>

<P>
<!-- ======== INNER CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" ID="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#info_required">info_required</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;opencard.core.terminal.ResponseAPDU</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#last_response">last_response</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../com/ibm/opencard/service/MFCCodes.html">MFCCodes</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#mfc_codes">mfc_codes</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The class and instruction codes for the MFC commands.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#p1_file_id">p1_file_id</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The P1 byte for selection by a single file ID.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#p1_path_abs">p1_path_abs</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The P1 byte for selection by an absolute path.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#p1_path_rel">p1_path_rel</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The P1 byte for selection by a relative path.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#p2_select_info">p2_select_info</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The P2 byte for a select that returns the file header.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#p2_select_quiet">p2_select_quiet</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The P2 byte for a select that does not return anything.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#path_absolute">path_absolute</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;short[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#path_component">path_component</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#path_error">path_error</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#path_length">path_length</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;opencard.core.terminal.CommandAPDU</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#select_apdu">select_apdu</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A re-usable command APDU for select.
 </TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" ID="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#MFC35CardServiceImpl(com.ibm.opencard.service.MFCCodes)">MFC35CardServiceImpl</A></B>(<A HREF="../../../../com/ibm/opencard/service/MFCCodes.html">MFCCodes</A>&nbsp;codes)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new generic card service implementation for MFC 3.5 and above.
 </TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" ID="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#clearPath()">clearPath</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clear the path stored.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;opencard.opt.iso.fs.CardFilePath</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#determinePath(com.ibm.opencard.service.MFCChannelState, opencard.core.service.CardChannel)">determinePath</A></B>(<A HREF="../../../../com/ibm/opencard/service/MFCChannelState.html">MFCChannelState</A>&nbsp;state,
              opencard.core.service.CardChannel&nbsp;channel)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Determines the currently selected path.
 </TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;opencard.core.terminal.ResponseAPDU</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#doneSelect(com.ibm.opencard.service.MFCCardChannel)">doneSelect</A></B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;chan)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Finish the select operation initiated by <tt>initSelect</tt>.
 </TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#execCommand(com.ibm.opencard.service.MFCCardChannel, opencard.core.terminal.CommandAPDU)">execCommand</A></B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;chan,
            opencard.core.terminal.CommandAPDU&nbsp;apdu)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Execute a ready-to-use command, given by the CommandAPDU.
  </TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#execSelect(com.ibm.opencard.service.MFCCardChannel, boolean)">execSelect</A></B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;chan,
           boolean&nbsp;info)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Select the path that is stored by now.
 </TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#initSelect(boolean)">initSelect</A></B>(boolean&nbsp;info)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize a select operation.
 </TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#nextSelect(com.ibm.opencard.service.MFCCardChannel, opencard.opt.iso.fs.CardFilePathComponent)">nextSelect</A></B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;chan,
           opencard.opt.iso.fs.CardFilePathComponent&nbsp;comp)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add a path component to the current select operation.
 </TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;opencard.core.terminal.ResponseAPDU</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#performSelect(com.ibm.opencard.service.MFCCardChannel, opencard.opt.iso.fs.CardFilePath, boolean)">performSelect</A></B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;channel,
              opencard.opt.iso.fs.CardFilePath&nbsp;path,
              boolean&nbsp;info)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Perform a select operation for the given path.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/ibm/opencard/service/MFCCardObjectInfo.html">MFCCardObjectInfo</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#selectObject(com.ibm.opencard.service.MFCCardChannel, opencard.opt.iso.fs.CardFilePath, boolean, com.ibm.opencard.service.MFCSelectResponseParser)">selectObject</A></B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;channel,
             opencard.opt.iso.fs.CardFilePath&nbsp;path,
             boolean&nbsp;info,
             <A HREF="../../../../com/ibm/opencard/service/MFCSelectResponseParser.html">MFCSelectResponseParser</A>&nbsp;srparser)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Select an object on the smartcard.
 </TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#sendSelectAPDU(com.ibm.opencard.service.MFCCardChannel, boolean)">sendSelectAPDU</A></B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;channel,
               boolean&nbsp;info)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Send a select command to the smartcard.
 </TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" ID="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD><CODE>clone, 
equals, 
finalize, 
getClass, 
hashCode, 
notify, 
notifyAll, 
toString, 
wait, 
wait, 
wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" ID="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="mfc_codes"><!-- --></A><H3>
mfc_codes</H3>
<PRE>
protected <A HREF="../../../../com/ibm/opencard/service/MFCCodes.html">MFCCodes</A> <B>mfc_codes</B></PRE>
<DL>
<DD>The class and instruction codes for the MFC commands.</DL>
<HR>

<A NAME="p1_file_id"><!-- --></A><H3>
p1_file_id</H3>
<PRE>
protected byte <B>p1_file_id</B></PRE>
<DL>
<DD>The P1 byte for selection by a single file ID.</DL>
<HR>

<A NAME="p1_path_abs"><!-- --></A><H3>
p1_path_abs</H3>
<PRE>
protected byte <B>p1_path_abs</B></PRE>
<DL>
<DD>The P1 byte for selection by an absolute path.</DL>
<HR>

<A NAME="p1_path_rel"><!-- --></A><H3>
p1_path_rel</H3>
<PRE>
protected byte <B>p1_path_rel</B></PRE>
<DL>
<DD>The P1 byte for selection by a relative path.</DL>
<HR>

<A NAME="p2_select_info"><!-- --></A><H3>
p2_select_info</H3>
<PRE>
protected byte <B>p2_select_info</B></PRE>
<DL>
<DD>The P2 byte for a select that returns the file header.</DL>
<HR>

<A NAME="p2_select_quiet"><!-- --></A><H3>
p2_select_quiet</H3>
<PRE>
protected byte <B>p2_select_quiet</B></PRE>
<DL>
<DD>The P2 byte for a select that does not return anything.</DL>
<HR>

<A NAME="path_component"><!-- --></A><H3>
path_component</H3>
<PRE>
protected short[] <B>path_component</B></PRE>
<DL>
</DL>
<HR>

<A NAME="path_length"><!-- --></A><H3>
path_length</H3>
<PRE>
protected int <B>path_length</B></PRE>
<DL>
</DL>
<HR>

<A NAME="path_absolute"><!-- --></A><H3>
path_absolute</H3>
<PRE>
protected boolean <B>path_absolute</B></PRE>
<DL>
</DL>
<HR>

<A NAME="path_error"><!-- --></A><H3>
path_error</H3>
<PRE>
protected boolean <B>path_error</B></PRE>
<DL>
</DL>
<HR>

<A NAME="info_required"><!-- --></A><H3>
info_required</H3>
<PRE>
protected boolean <B>info_required</B></PRE>
<DL>
</DL>
<HR>

<A NAME="last_response"><!-- --></A><H3>
last_response</H3>
<PRE>
protected opencard.core.terminal.ResponseAPDU <B>last_response</B></PRE>
<DL>
</DL>
<HR>

<A NAME="select_apdu"><!-- --></A><H3>
select_apdu</H3>
<PRE>
protected opencard.core.terminal.CommandAPDU <B>select_apdu</B></PRE>
<DL>
<DD>A re-usable command APDU for select.
 It gets initialized on <tt>initSelect</tt>,
 is used by <tt>execSelect</tt>, and must be
 reset to length 2 immediately after using it.<DD><DL>
<DT><B>See Also: </B><DD><A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#initSelect(boolean)"><CODE>initSelect(boolean)</CODE></A>, 
<A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#execSelect(com.ibm.opencard.service.MFCCardChannel, boolean)"><CODE>execSelect(com.ibm.opencard.service.MFCCardChannel, boolean)</CODE></A></DL>
</DD>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" ID="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="MFC35CardServiceImpl(com.ibm.opencard.service.MFCCodes)"><!-- --></A><H3>
MFC35CardServiceImpl</H3>
<PRE>
public <B>MFC35CardServiceImpl</B>(<A HREF="../../../../com/ibm/opencard/service/MFCCodes.html">MFCCodes</A>&nbsp;codes)</PRE>
<DL>
<DD>Creates a new generic card service implementation for MFC 3.5 and above.
 This implementation is parameterized by the command codes, so it can
 be used for MFC cards other than 3.5.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>codes</CODE> - the CLAss and INStruction codes</DL>
</DD>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" ID="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="determinePath(com.ibm.opencard.service.MFCChannelState, opencard.core.service.CardChannel)"><!-- --></A><H3>
determinePath</H3>
<PRE>
protected final opencard.opt.iso.fs.CardFilePath <B>determinePath</B>(<A HREF="../../../../com/ibm/opencard/service/MFCChannelState.html">MFCChannelState</A>&nbsp;state,
                                                               opencard.core.service.CardChannel&nbsp;channel)</PRE>
<DL>
<DD>Determines the currently selected path.
 The path stored in the channel state may be invalid, if another
 service has performed a SELECT operation. This is checked via
 the state object that can be found in the channel itself. This
 service stores a tag object there. If another service changes
 the channel state, this will be detected. The other service's
 state will be overwritten by the tag object again.
 This mechanism will not detect state invalidations by services
 like <tt>opencard.opt.util.PassThruCardService</tt>, that do
 not store a state.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>state</CODE> - the state from which to take the path<DD><CODE>channel</CODE> - the channel to check for <i>dirty</i> indication<DT><B>Returns:</B><DD>the path that is currently selected,
            or <tt>null</tt> if unknown<DT><B>See Also: </B><DD><CODE>opencard.opt.util.PassThruCardService</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="clearPath()"><!-- --></A><H3>
clearPath</H3>
<PRE>
protected final void <B>clearPath</B>()</PRE>
<DL>
<DD>Clear the path stored.<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="initSelect(boolean)"><!-- --></A><H3>
initSelect</H3>
<PRE>
protected void <B>initSelect</B>(boolean&nbsp;info)</PRE>
<DL>
<DD>Initialize a select operation.
 A call to this method will be followed by one or more calls
 to <tt>nextSelect</tt> for the path components, and at last
 a call to <tt>doneSelect</tt>. The last response received
 from the smartcard will be returned by <tt>doneSelect</tt>.
 If <tt>info</tt> is true on invocation of this method, the
 smartcard's response will include the header of the selected
 file or directory, otherwise not.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>info</CODE> - <tt>true</tt> if the file info must be evaluated<DT><B>See Also: </B><DD><A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#nextSelect(com.ibm.opencard.service.MFCCardChannel, opencard.opt.iso.fs.CardFilePathComponent)"><CODE>nextSelect(com.ibm.opencard.service.MFCCardChannel, opencard.opt.iso.fs.CardFilePathComponent)</CODE></A>, 
<A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#doneSelect(com.ibm.opencard.service.MFCCardChannel)"><CODE>doneSelect(com.ibm.opencard.service.MFCCardChannel)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="nextSelect(com.ibm.opencard.service.MFCCardChannel, opencard.opt.iso.fs.CardFilePathComponent)"><!-- --></A><H3>
nextSelect</H3>
<PRE>
protected void <B>nextSelect</B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;chan,
                          opencard.opt.iso.fs.CardFilePathComponent&nbsp;comp)
                   throws opencard.core.terminal.CardTerminalException</PRE>
<DL>
<DD>Add a path component to the current select operation.
 If necessary, a command with the previously added components
 will be sent to the smartcard. The component passed as an
 argument will <i>never</i> be part of the select operation
 that is performed. This ensures that a command with at least
 one path component is sent to the smartcard on invocation of
 <tt>doneSelect</tt>. The commands sent before can therefore
 be quiet selects.
 <br>
 The MFC 3.5 and 4.0 supports selection by file ID only.
 Short file identifiers are converted to the full file ID.
 If other types of path components must be supported, derived
 classes may override this method. It may be necessary to
 override <tt>execSelect</tt>, too.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>chan</CODE> - the contact to the smartcard<DD><CODE>comp</CODE> - the path component to add<DT><B>Throws:</B><DD>opencard.core.terminal.CardTerminalException - if the terminal encountered an error<DT><B>See Also: </B><DD><A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#doneSelect(com.ibm.opencard.service.MFCCardChannel)"><CODE>doneSelect(com.ibm.opencard.service.MFCCardChannel)</CODE></A>, 
<A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#execSelect(com.ibm.opencard.service.MFCCardChannel, boolean)"><CODE>execSelect(com.ibm.opencard.service.MFCCardChannel, boolean)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="doneSelect(com.ibm.opencard.service.MFCCardChannel)"><!-- --></A><H3>
doneSelect</H3>
<PRE>
protected opencard.core.terminal.ResponseAPDU <B>doneSelect</B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;chan)
                                                  throws opencard.core.terminal.CardTerminalException</PRE>
<DL>
<DD>Finish the select operation initiated by <tt>initSelect</tt>.
 This method will invoke <tt>execSelect</tt> to perform the select
 operation for the last components stored by <tt>nextSelect</tt>.
 The implementation of <tt>nextSelect</tt> ensures that there is
 at least one component that still has to be selected.<DD><DL>
<DT><B>Returns:</B><DD>the last response received from the smartcard<DT><B>Throws:</B><DD>opencard.core.terminal.CardTerminalException - if the terminal encountered an error<DT><B>See Also: </B><DD><A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#execSelect(com.ibm.opencard.service.MFCCardChannel, boolean)"><CODE>execSelect(com.ibm.opencard.service.MFCCardChannel, boolean)</CODE></A>, 
<A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#nextSelect(com.ibm.opencard.service.MFCCardChannel, opencard.opt.iso.fs.CardFilePathComponent)"><CODE>nextSelect(com.ibm.opencard.service.MFCCardChannel, opencard.opt.iso.fs.CardFilePathComponent)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="execCommand(com.ibm.opencard.service.MFCCardChannel, opencard.core.terminal.CommandAPDU)"><!-- --></A><H3>
execCommand</H3>
<PRE>
protected void <B>execCommand</B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;chan,
                           opencard.core.terminal.CommandAPDU&nbsp;apdu)
                    throws opencard.core.terminal.CardTerminalException</PRE>
<DL>
<DD>Execute a ready-to-use command, given by the CommandAPDU.
  The command is send directly without any validation/verification
  or interpretation to the card.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>chan</CODE> - the channel to the smartcard<DD><CODE>apdu</CODE> - the CommandAPDU, containing a ready-to-use Command sequence</DL>
</DD>
</DL>
<HR>

<A NAME="execSelect(com.ibm.opencard.service.MFCCardChannel, boolean)"><!-- --></A><H3>
execSelect</H3>
<PRE>
protected void <B>execSelect</B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;chan,
                          boolean&nbsp;info)
                   throws opencard.core.terminal.CardTerminalException</PRE>
<DL>
<DD>Select the path that is stored by now.
 <tt>path_length</tt> holds the number of file IDs in the path,
 the IDs are stored in <tt>path_component</tt>. If the path is
 an absolute path from the master file, <tt>path_absolute</tt>
 is true, otherwise it is false.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>chan</CODE> - the channel to the smartcard<DD><CODE>info</CODE> - <tt>true</tt> if the file info is needed<DT><B>Throws:</B><DD>opencard.core.terminal.CardTerminalException - if the terminal encountered an error<DT><B>See Also: </B><DD><A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#nextSelect(com.ibm.opencard.service.MFCCardChannel, opencard.opt.iso.fs.CardFilePathComponent)"><CODE>nextSelect(com.ibm.opencard.service.MFCCardChannel, opencard.opt.iso.fs.CardFilePathComponent)</CODE></A>, 
<A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#doneSelect(com.ibm.opencard.service.MFCCardChannel)"><CODE>doneSelect(com.ibm.opencard.service.MFCCardChannel)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="sendSelectAPDU(com.ibm.opencard.service.MFCCardChannel, boolean)"><!-- --></A><H3>
sendSelectAPDU</H3>
<PRE>
protected void <B>sendSelectAPDU</B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;channel,
                              boolean&nbsp;info)
                       throws opencard.core.terminal.CardTerminalException</PRE>
<DL>
<DD>Send a select command to the smartcard.
 The command has to be stored in <tt>select_apdu</tt>. Before sending
 the APDU, a zero Le byte will be appended if <tt>needsZeroLe</tt> of
 the <tt>MFCCodes</tt> specifies so. The response will be stored in
 <tt>last_response</tt>.
 <br>
 If an error occurs executing the command, <tt>path_error</tt>
 is set to <tt>true</tt>. If <tt>path_error</tt> is already
 true, nothing will be sent. The command APDU gets reset to
 length 2 in any case.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>channel</CODE> - how to contact the smartcard<DD><CODE>info</CODE> - whether information should be returned<DT><B>Throws:</B><DD>opencard.core.terminal.CardTerminalException - if the terminal encountered an error<DT><B>See Also: </B><DD><A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#select_apdu"><CODE>select_apdu</CODE></A>, 
<A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#last_response"><CODE>last_response</CODE></A>, 
<A HREF="../../../../com/ibm/opencard/service/MFC35CardServiceImpl.html#path_error"><CODE>path_error</CODE></A>, 
<A HREF="../../../../com/ibm/opencard/service/MFCCodes.html"><CODE>MFCCodes</CODE></A>, 
<A HREF="../../../../com/ibm/opencard/service/MFCCodes.html#needsZeroLe()"><CODE>MFCCodes.needsZeroLe()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="performSelect(com.ibm.opencard.service.MFCCardChannel, opencard.opt.iso.fs.CardFilePath, boolean)"><!-- --></A><H3>
performSelect</H3>
<PRE>
protected opencard.core.terminal.ResponseAPDU <B>performSelect</B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;channel,
                                                            opencard.opt.iso.fs.CardFilePath&nbsp;path,
                                                            boolean&nbsp;info)
                                                     throws opencard.opt.service.CardServiceObjectNotAvailableException,
                                                            opencard.core.terminal.CardTerminalException</PRE>
<DL>
<DD>Perform a select operation for the given path.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>channel</CODE> - how to contact the smartcard<DD><CODE>path</CODE> - what to select<DD><CODE>info</CODE> - whether file info is needed<DT><B>Returns:</B><DD>The response from the smartcard.
         If <tt>info</tt> was true, and no error occured,
         it includes the file header.<DT><B>Throws:</B><DD>opencard.opt.service.CardServiceObjectNotAvailableException - the target could not be selected<DD>opencard.core.terminal.CardTerminalException - if the terminal encountered an error</DL>
</DD>
</DL>
<HR>

<A NAME="selectObject(com.ibm.opencard.service.MFCCardChannel, opencard.opt.iso.fs.CardFilePath, boolean, com.ibm.opencard.service.MFCSelectResponseParser)"><!-- --></A><H3>
selectObject</H3>
<PRE>
public <A HREF="../../../../com/ibm/opencard/service/MFCCardObjectInfo.html">MFCCardObjectInfo</A> <B>selectObject</B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;channel,
                                      opencard.opt.iso.fs.CardFilePath&nbsp;path,
                                      boolean&nbsp;info,
                                      <A HREF="../../../../com/ibm/opencard/service/MFCSelectResponseParser.html">MFCSelectResponseParser</A>&nbsp;srparser)
                               throws opencard.opt.service.CardServiceObjectNotAvailableException,
                                      opencard.opt.service.CardServiceUnexpectedResponseException,
                                      opencard.core.terminal.CardTerminalException</PRE>
<DL>
<DD>Select an object on the smartcard.
 Optionally return file information.<DD><DL>
<DT><B>Specified by: </B><DD><A HREF="../../../../com/ibm/opencard/service/MFCCardServiceImpl.html#selectObject(com.ibm.opencard.service.MFCCardChannel, opencard.opt.iso.fs.CardFilePath, boolean, com.ibm.opencard.service.MFCSelectResponseParser)">selectObject</A> in interface <A HREF="../../../../com/ibm/opencard/service/MFCCardServiceImpl.html">MFCCardServiceImpl</A><DT><B>Parameters:</B><DD><CODE>channel</CODE> - how to contact the smartcard<DD><CODE>path</CODE> - what to select<DD><CODE>info</CODE> - whether to return information, <tt>true</tt> if so<DD><CODE>srparser</CODE> - helper that interprets the select response,
                  may be <tt>null</tt> if no info is returned<DT><B>Returns:</B><DD>information on the selected object, if requested<DT><B>Throws:</B><DD>opencard.opt.service.CardServiceObjectNotAvailableException - if the target could not be selected<DD>opencard.opt.service.CardServiceUnexpectedResponseException - if the select response could not be parsed correctly<DD>opencard.core.terminal.CardTerminalException - if the terminal encountered a problem</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" ID="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT ID="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="package-summary.html"><FONT ID="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" ID="NavBarCell1Rev"> &nbsp;<FONT ID="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="package-tree.html"><FONT ID="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT ID="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT ID="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT ID="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" ID="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/ibm/opencard/service/IBMCardServiceFactory.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/ibm/opencard/service/MFC35Codes.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" ID="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MFC35CardServiceImpl.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" ID="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" ID="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>

</BODY>
</HTML>
