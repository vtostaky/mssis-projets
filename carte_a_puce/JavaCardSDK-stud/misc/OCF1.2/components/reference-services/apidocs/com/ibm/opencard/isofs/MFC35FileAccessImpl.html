<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Thu Dec 02 15:53:46 GMT+01:00 1999 -->
<TITLE>
: Class  MFC35FileAccessImpl
</TITLE>
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">
</HEAD>
<BODY BGCOLOR="white">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" ID="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT ID="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="package-summary.html"><FONT ID="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" ID="NavBarCell1Rev"> &nbsp;<FONT ID="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="package-tree.html"><FONT ID="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT ID="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT ID="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT ID="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" ID="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../com/ibm/opencard/isofs/MFC35FileSRParser.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" ID="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MFC35FileAccessImpl.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" ID="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" ID="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.ibm.opencard.isofs</FONT>
<BR>
Class  MFC35FileAccessImpl</H2>
<PRE>
java.lang.Object
  |
  +--<B>com.ibm.opencard.isofs.MFC35FileAccessImpl</B>
</PRE>
<HR>
<DL>
<DT>public class <B>MFC35FileAccessImpl</B><DT>extends java.lang.Object<DT>implements <A HREF="../../../../com/ibm/opencard/isofs/MFCFileAccessImpl.html">MFCFileAccessImpl</A></DL>

<P>
Implementation of a file access card service for MFC 3.5 and some others.
 File access refers to read and update operations. It does not include
 create, invalidate or other creational operations.
<P>
<HR>

<P>
<!-- ======== INNER CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" ID="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/isofs/MFC35FileAccessImpl.html#iso_class">iso_class</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The CLAss byte for ISO commands gets cached here.</TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../com/ibm/opencard/service/MFCCodes.html">MFCCodes</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/isofs/MFC35FileAccessImpl.html#mfc_codes">mfc_codes</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The CLAss and INStruction bytes for commands.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" ID="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/isofs/MFC35FileAccessImpl.html#MFC35FileAccessImpl(com.ibm.opencard.service.MFCCodes)">MFC35FileAccessImpl</A></B>(<A HREF="../../../../com/ibm/opencard/service/MFCCodes.html">MFCCodes</A>&nbsp;codes)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Instantiates a new file access card service implementation.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" ID="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/isofs/MFC35FileAccessImpl.html#appendRecord(com.ibm.opencard.service.MFCCardChannel, byte[])">appendRecord</A></B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;channel,
             byte[]&nbsp;data)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Appends data to a structured file.
 </TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/isofs/MFC35FileAccessImpl.html#decreaseValue(com.ibm.opencard.service.MFCCardChannel, int)">decreaseValue</A></B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;channel,
              int&nbsp;delta)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Decreases the value of a record in a structured file.
 </TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/isofs/MFC35FileAccessImpl.html#increaseValue(com.ibm.opencard.service.MFCCardChannel, int)">increaseValue</A></B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;channel,
              int&nbsp;delta)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Increases the value of a record in a structured file.
 </TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/isofs/MFC35FileAccessImpl.html#readBinary(com.ibm.opencard.service.MFCCardChannel, int, int)">readBinary</A></B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;channel,
           int&nbsp;offset,
           int&nbsp;length)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reads data from a transparent file.
 </TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/isofs/MFC35FileAccessImpl.html#readBinaryBytes(com.ibm.opencard.service.MFCCardChannel, int, byte[], int, int, int)">readBinaryBytes</A></B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;channel,
                int&nbsp;accgroup,
                byte[]&nbsp;target,
                int&nbsp;toffset,
                int&nbsp;foffset,
                int&nbsp;length)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reads bytes from a transparent file using a single command.
 </TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;byte[][]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/isofs/MFC35FileAccessImpl.html#readCyclicRecords(com.ibm.opencard.service.MFCCardChannel, com.ibm.opencard.service.MFCCommandAPDU, int, int)">readCyclicRecords</A></B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;channel,
                  <A HREF="../../../../com/ibm/opencard/service/MFCCommandAPDU.html">MFCCommandAPDU</A>&nbsp;command,
                  int&nbsp;accgroup,
                  int&nbsp;number)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reads the first records from a cyclic file with MFC 3.5 or 4.0.
 </TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/isofs/MFC35FileAccessImpl.html#readRecord(com.ibm.opencard.service.MFCCardChannel, int)">readRecord</A></B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;channel,
           int&nbsp;record)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reads a record from a structured file.
 </TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;byte[][]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/isofs/MFC35FileAccessImpl.html#readRecords(com.ibm.opencard.service.MFCCardChannel, int)">readRecords</A></B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;channel,
            int&nbsp;number)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reads the first records from a structured file.
 </TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/isofs/MFC35FileAccessImpl.html#writeBinary(com.ibm.opencard.service.MFCCardChannel, int, byte[], int, int)">writeBinary</A></B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;channel,
            int&nbsp;foffset,
            byte[]&nbsp;source,
            int&nbsp;soffset,
            int&nbsp;length)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Writes data to a transparent file.
 </TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/isofs/MFC35FileAccessImpl.html#writeBinaryBytes(com.ibm.opencard.service.MFCCardChannel, int, int, byte[], int, int)">writeBinaryBytes</A></B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;channel,
                 int&nbsp;accgroup,
                 int&nbsp;foffset,
                 byte[]&nbsp;source,
                 int&nbsp;soffset,
                 int&nbsp;length)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Writes bytes to a transparent file using a single command.
 </TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/isofs/MFC35FileAccessImpl.html#writeCyclicRecord(com.ibm.opencard.service.MFCCardChannel, byte[])">writeCyclicRecord</A></B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;channel,
                  byte[]&nbsp;source)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Writes a record in a cyclic file with MFC 3.5 or 4.0 smartcards.
 </TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/ibm/opencard/isofs/MFC35FileAccessImpl.html#writeRecord(com.ibm.opencard.service.MFCCardChannel, int, byte[])">writeRecord</A></B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;channel,
            int&nbsp;record,
            byte[]&nbsp;source)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Writes data to a structured file.
 </TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" ID="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" ID="TableRowColor">
<TD><CODE>clone, 
equals, 
finalize, 
getClass, 
hashCode, 
notify, 
notifyAll, 
toString, 
wait, 
wait, 
wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" ID="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="mfc_codes"><!-- --></A><H3>
mfc_codes</H3>
<PRE>
protected <A HREF="../../../../com/ibm/opencard/service/MFCCodes.html">MFCCodes</A> <B>mfc_codes</B></PRE>
<DL>
<DD>The CLAss and INStruction bytes for commands.</DL>
<HR>

<A NAME="iso_class"><!-- --></A><H3>
iso_class</H3>
<PRE>
protected byte <B>iso_class</B></PRE>
<DL>
<DD>The CLAss byte for ISO commands gets cached here.</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" ID="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="MFC35FileAccessImpl(com.ibm.opencard.service.MFCCodes)"><!-- --></A><H3>
MFC35FileAccessImpl</H3>
<PRE>
public <B>MFC35FileAccessImpl</B>(<A HREF="../../../../com/ibm/opencard/service/MFCCodes.html">MFCCodes</A>&nbsp;codes)</PRE>
<DL>
<DD>Instantiates a new file access card service implementation.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>codes</CODE> - the command codes for the MFC card to support</DL>
</DD>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" ID="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="readBinaryBytes(com.ibm.opencard.service.MFCCardChannel, int, byte[], int, int, int)"><!-- --></A><H3>
readBinaryBytes</H3>
<PRE>
protected byte[] <B>readBinaryBytes</B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;channel,
                                 int&nbsp;accgroup,
                                 byte[]&nbsp;target,
                                 int&nbsp;toffset,
                                 int&nbsp;foffset,
                                 int&nbsp;length)
                          throws opencard.core.service.CardServiceException,
                                 opencard.core.terminal.CardTerminalException</PRE>
<DL>
<DD>Reads bytes from a transparent file using a single command.
 The file has to be selected. The length of the data to read
 must be small enough to fit into a single response APDU.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>channel</CODE> - where to contact the smartcard<DD><CODE>accgroup</CODE> - access group for READ commands<DD><CODE>target</CODE> - array to fill in the bytes, or <tt>null</tt><DD><CODE>toffset</CODE> - array index to start filling. If <tt>target</tt>
                  is <tt>null</tt>, this value is ignored.<DD><CODE>foffset</CODE> - file index to start reading<DD><CODE>length</CODE> - number of bytes to read and fill in<DT><B>Returns:</B><DD>array holding the data read.
     If <tt>target</tt> is not <tt>null</tt>, it's value is returned.
     Otherwise, a new array will be allocated and returned.<DT><B>Throws:</B><DD>opencard.core.service.CardServiceException - if the service encountered an error<DD>opencard.core.terminal.CardTerminalException - if the terminal encountered an error</DL>
</DD>
</DL>
<HR>

<A NAME="writeBinaryBytes(com.ibm.opencard.service.MFCCardChannel, int, int, byte[], int, int)"><!-- --></A><H3>
writeBinaryBytes</H3>
<PRE>
protected void <B>writeBinaryBytes</B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;channel,
                                int&nbsp;accgroup,
                                int&nbsp;foffset,
                                byte[]&nbsp;source,
                                int&nbsp;soffset,
                                int&nbsp;length)
                         throws opencard.core.service.CardServiceException,
                                opencard.core.terminal.CardTerminalException</PRE>
<DL>
<DD>Writes bytes to a transparent file using a single command.
 The file has to be selected. The length of the data to write
 must be small enough to fit into a single command APDU.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>channel</CODE> - where to contact the smartcard<DD><CODE>accgroup</CODE> - access group for UPDATE commands<DD><CODE>foffset</CODE> - file index to start writing at<DD><CODE>source</CODE> - array holding the bytes to write<DD><CODE>soffset</CODE> - first byte to write<DD><CODE>length</CODE> - number of bytes to write<DT><B>Throws:</B><DD>opencard.core.service.CardServiceException - if the service encountered an error<DD>opencard.core.terminal.CardTerminalException - if the terminal encountered an error</DL>
</DD>
</DL>
<HR>

<A NAME="readCyclicRecords(com.ibm.opencard.service.MFCCardChannel, com.ibm.opencard.service.MFCCommandAPDU, int, int)"><!-- --></A><H3>
readCyclicRecords</H3>
<PRE>
protected byte[][] <B>readCyclicRecords</B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;channel,
                                     <A HREF="../../../../com/ibm/opencard/service/MFCCommandAPDU.html">MFCCommandAPDU</A>&nbsp;command,
                                     int&nbsp;accgroup,
                                     int&nbsp;number)
                              throws opencard.core.service.CardServiceException,
                                     opencard.core.terminal.CardTerminalException</PRE>
<DL>
<DD>Reads the first records from a cyclic file with MFC 3.5 or 4.0.
 MFC cards up to and including 4.0 implement an obscure scheme for
 addressing cyclic files. The most recently written record has to
 be selected using absolute addressing and the magic number for the
 <i>current</i> record. The following records have to be read using
 relative addressing and the <i>previous</i> mode.
 <br>
 This method is invoked only for MFC cards up to and including MFC 4.0,
 and for cyclic files. Since MFC 4.1, reading cyclic files can be done
 using absolute addresses, so there is no need for a special method.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>channel</CODE> - how to contact the smartcard<DD><CODE>command</CODE> - the APDU to send, pre-initialized<DD><CODE>accgroup</CODE> - the access group for reading<DD><CODE>number</CODE> - number of records to read<DT><B>Returns:</B><DD>an array of arrays holding the data read<DT><B>Throws:</B><DD>opencard.core.service.CardServiceException - if the service encountered an error<DD>opencard.core.terminal.CardTerminalException - if the terminal encountered an error</DL>
</DD>
</DL>
<HR>

<A NAME="writeCyclicRecord(com.ibm.opencard.service.MFCCardChannel, byte[])"><!-- --></A><H3>
writeCyclicRecord</H3>
<PRE>
protected void <B>writeCyclicRecord</B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;channel,
                                 byte[]&nbsp;source)
                          throws opencard.core.service.CardServiceException,
                                 opencard.core.terminal.CardTerminalException</PRE>
<DL>
<DD>Writes a record in a cyclic file with MFC 3.5 or 4.0 smartcards.
 MFC cards prior to 4.1 do not support the APPEND RECORD command.
 Since they do not support linear variable files either, this does
 not matter except for cyclic files, in which case a similiar
 effect can be achieved using the UPDATE BINARY command.
 <br>
 This method is invoked only for MFC cards up to and including MFC 4.0,
 and for cyclic files. Since MFC 4.1, APPEND RECORD is suppported, so
 there is no need for a special method. The difference lies with the
 access conditions: APPEND RECORD has command class <i>Create</i>,
 while UPDATE RECORD has command class <i>Update</i>.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>channel</CODE> - how to contact the smartcard<DD><CODE>source</CODE> - the data to write to the file<DT><B>Throws:</B><DD>opencard.core.service.CardServiceException - if the service encountered an error<DD>opencard.core.terminal.CardTerminalException - if the terminal encountered an error</DL>
</DD>
</DL>
<HR>

<A NAME="readBinary(com.ibm.opencard.service.MFCCardChannel, int, int)"><!-- --></A><H3>
readBinary</H3>
<PRE>
public byte[] <B>readBinary</B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;channel,
                         int&nbsp;offset,
                         int&nbsp;length)
                  throws opencard.core.service.CardServiceException,
                         opencard.core.terminal.CardTerminalException</PRE>
<DL>
<DD>Reads data from a transparent file.
 The file has to be selected.<DD><DL>
<DT><B>Specified by: </B><DD><A HREF="../../../../com/ibm/opencard/isofs/MFCFileAccessImpl.html#readBinary(com.ibm.opencard.service.MFCCardChannel, int, int)">readBinary</A> in interface <A HREF="../../../../com/ibm/opencard/isofs/MFCFileAccessImpl.html">MFCFileAccessImpl</A><DT><B>Parameters:</B><DD><CODE>channel</CODE> - how to contact the smartcard<DD><CODE>offset</CODE> - index of first byte to read<DD><CODE>length</CODE> - number of bytes to read<DT><B>Returns:</B><DD>byte array holding the data read<DT><B>Throws:</B><DD>opencard.core.service.CardServiceException - if the service encountered an error<DD>opencard.core.terminal.CardTerminalException - if the terminal encountered an error</DL>
</DD>
</DL>
<HR>

<A NAME="readRecord(com.ibm.opencard.service.MFCCardChannel, int)"><!-- --></A><H3>
readRecord</H3>
<PRE>
public byte[] <B>readRecord</B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;channel,
                         int&nbsp;record)
                  throws opencard.core.service.CardServiceException,
                         opencard.core.terminal.CardTerminalException</PRE>
<DL>
<DD>Reads a record from a structured file.
 The file has to be selected, and the file info
 must have been set in the channel state.<DD><DL>
<DT><B>Specified by: </B><DD><A HREF="../../../../com/ibm/opencard/isofs/MFCFileAccessImpl.html#readRecord(com.ibm.opencard.service.MFCCardChannel, int)">readRecord</A> in interface <A HREF="../../../../com/ibm/opencard/isofs/MFCFileAccessImpl.html">MFCFileAccessImpl</A><DT><B>Parameters:</B><DD><CODE>channel</CODE> - how to contact the smartcard<DD><CODE>record</CODE> - number of the record to read (0 for first record)<DT><B>Returns:</B><DD>byte array holding the data read<DT><B>Throws:</B><DD>opencard.core.service.CardServiceException - if the service encountered an error<DD>opencard.core.terminal.CardTerminalException - if the terminal encountered an error</DL>
</DD>
</DL>
<HR>

<A NAME="readRecords(com.ibm.opencard.service.MFCCardChannel, int)"><!-- --></A><H3>
readRecords</H3>
<PRE>
public byte[][] <B>readRecords</B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;channel,
                            int&nbsp;number)
                     throws opencard.core.service.CardServiceException,
                            opencard.core.terminal.CardTerminalException</PRE>
<DL>
<DD>Reads the first records from a structured file.
 The structured file has to be selected.<DD><DL>
<DT><B>Specified by: </B><DD><A HREF="../../../../com/ibm/opencard/isofs/MFCFileAccessImpl.html#readRecords(com.ibm.opencard.service.MFCCardChannel, int)">readRecords</A> in interface <A HREF="../../../../com/ibm/opencard/isofs/MFCFileAccessImpl.html">MFCFileAccessImpl</A><DT><B>Parameters:</B><DD><CODE>channel</CODE> - how to contact the smartcard<DD><CODE>number</CODE> - number of records to read, 0 for all<DT><B>Returns:</B><DD>an array of arrays holding the data read<DT><B>Throws:</B><DD>opencard.core.service.CardServiceException - if the service encountered an error<DD>opencard.core.terminal.CardTerminalException - if the terminal encountered an error</DL>
</DD>
</DL>
<HR>

<A NAME="writeBinary(com.ibm.opencard.service.MFCCardChannel, int, byte[], int, int)"><!-- --></A><H3>
writeBinary</H3>
<PRE>
public void <B>writeBinary</B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;channel,
                        int&nbsp;foffset,
                        byte[]&nbsp;source,
                        int&nbsp;soffset,
                        int&nbsp;length)
                 throws opencard.core.service.CardServiceException,
                        opencard.core.terminal.CardTerminalException</PRE>
<DL>
<DD>Writes data to a transparent file.
 The file has to be selected.<DD><DL>
<DT><B>Specified by: </B><DD><A HREF="../../../../com/ibm/opencard/isofs/MFCFileAccessImpl.html#writeBinary(com.ibm.opencard.service.MFCCardChannel, int, byte[], int, int)">writeBinary</A> in interface <A HREF="../../../../com/ibm/opencard/isofs/MFCFileAccessImpl.html">MFCFileAccessImpl</A><DT><B>Parameters:</B><DD><CODE>channel</CODE> - how to contact the smartcard<DD><CODE>foffset</CODE> - file index of first byte to write to<DD><CODE>source</CODE> - the data to write<DD><CODE>soffset</CODE> - array index of first byte to write<DD><CODE>length</CODE> - number of bytes to write<DT><B>Throws:</B><DD>opencard.core.service.CardServiceException - if the service encountered an error<DD>opencard.core.terminal.CardTerminalException - if the terminal encountered an error</DL>
</DD>
</DL>
<HR>

<A NAME="writeRecord(com.ibm.opencard.service.MFCCardChannel, int, byte[])"><!-- --></A><H3>
writeRecord</H3>
<PRE>
public void <B>writeRecord</B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;channel,
                        int&nbsp;record,
                        byte[]&nbsp;source)
                 throws opencard.core.service.CardServiceException,
                        opencard.core.terminal.CardTerminalException</PRE>
<DL>
<DD>Writes data to a structured file.
 The file has to be selected.<DD><DL>
<DT><B>Specified by: </B><DD><A HREF="../../../../com/ibm/opencard/isofs/MFCFileAccessImpl.html#writeRecord(com.ibm.opencard.service.MFCCardChannel, int, byte[])">writeRecord</A> in interface <A HREF="../../../../com/ibm/opencard/isofs/MFCFileAccessImpl.html">MFCFileAccessImpl</A><DT><B>Parameters:</B><DD><CODE>channel</CODE> - how to contact the smartcard<DD><CODE>source</CODE> - the data to write in the record<DD><CODE>record</CODE> - number of the record to write (0 for first record)<DT><B>Throws:</B><DD>opencard.core.service.CardServiceException - if the service encountered an error<DD>opencard.core.terminal.CardTerminalException - if the terminal encountered an error</DL>
</DD>
</DL>
<HR>

<A NAME="appendRecord(com.ibm.opencard.service.MFCCardChannel, byte[])"><!-- --></A><H3>
appendRecord</H3>
<PRE>
public void <B>appendRecord</B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;channel,
                         byte[]&nbsp;data)
                  throws opencard.core.service.CardServiceException,
                         opencard.core.terminal.CardTerminalException</PRE>
<DL>
<DD>Appends data to a structured file.
 The structured file has to be selected.
 Appending is supported for cyclic and linear variable files.
 <br>
 MFC smartcards prior to 4.1 do not support the APPEND RECORD command.
 Invocations of this method are mapped onto the UPDATE RECORD command
 in this case. When designing a card layout, it has to be taken into
 account that the access condition is taken from the <i>Update</i> group,
 not the <i>Create</i> group. Additionally, the UPDATE RECORD command
 is mutually exclusive with the INCREASE command. Implementing a purse
 that supports appending records as well as increasing the value is
 just not possible with MFC smartcards prior to 4.1.
 See also <tt>writeCyclicRecord</tt>, which is invoked in this case.<DD><DL>
<DT><B>Specified by: </B><DD><A HREF="../../../../com/ibm/opencard/isofs/MFCFileAccessImpl.html#appendRecord(com.ibm.opencard.service.MFCCardChannel, byte[])">appendRecord</A> in interface <A HREF="../../../../com/ibm/opencard/isofs/MFCFileAccessImpl.html">MFCFileAccessImpl</A><DT><B>Parameters:</B><DD><CODE>channel</CODE> - how to contact the smartcard<DD><CODE>data</CODE> - the data to append<DT><B>Throws:</B><DD>opencard.core.service.CardServiceException - if the service encountered an error<DD>opencard.core.terminal.CardTerminalException - if the terminal encountered an error<DT><B>See Also: </B><DD><A HREF="../../../../com/ibm/opencard/isofs/MFC35FileAccessImpl.html#writeCyclicRecord(com.ibm.opencard.service.MFCCardChannel, byte[])"><CODE>writeCyclicRecord(com.ibm.opencard.service.MFCCardChannel, byte[])</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="increaseValue(com.ibm.opencard.service.MFCCardChannel, int)"><!-- --></A><H3>
increaseValue</H3>
<PRE>
public byte[] <B>increaseValue</B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;channel,
                            int&nbsp;delta)
                     throws opencard.core.service.CardServiceException,
                            opencard.core.terminal.CardTerminalException</PRE>
<DL>
<DD>Increases the value of a record in a structured file.
 The file has to be selected. The first record within
 the selected file will be modified. Typically, this
 operation is used with cyclic files.<DD><DL>
<DT><B>Specified by: </B><DD><A HREF="../../../../com/ibm/opencard/isofs/MFCFileAccessImpl.html#increaseValue(com.ibm.opencard.service.MFCCardChannel, int)">increaseValue</A> in interface <A HREF="../../../../com/ibm/opencard/isofs/MFCFileAccessImpl.html">MFCFileAccessImpl</A><DT><B>Parameters:</B><DD><CODE>channel</CODE> - the contact to the smartcard<DD><CODE>delta</CODE> - the 3-byte unsigned amount by which to increase<DT><B>Returns:</B><DD>the record after the operation.<DT><B>Throws:</B><DD>opencard.core.service.CardServiceException - if the service encountered an error<DD>opencard.core.terminal.CardTerminalException - if the terminal encountered an error</DL>
</DD>
</DL>
<HR>

<A NAME="decreaseValue(com.ibm.opencard.service.MFCCardChannel, int)"><!-- --></A><H3>
decreaseValue</H3>
<PRE>
public byte[] <B>decreaseValue</B>(<A HREF="../../../../com/ibm/opencard/service/MFCCardChannel.html">MFCCardChannel</A>&nbsp;channel,
                            int&nbsp;delta)
                     throws opencard.core.service.CardServiceException,
                            opencard.core.terminal.CardTerminalException</PRE>
<DL>
<DD>Decreases the value of a record in a structured file.
 The file has to be selected. The first record within
 the selected file will be modified. Typically, this
 operation is used with cyclic files.<DD><DL>
<DT><B>Specified by: </B><DD><A HREF="../../../../com/ibm/opencard/isofs/MFCFileAccessImpl.html#decreaseValue(com.ibm.opencard.service.MFCCardChannel, int)">decreaseValue</A> in interface <A HREF="../../../../com/ibm/opencard/isofs/MFCFileAccessImpl.html">MFCFileAccessImpl</A><DT><B>Parameters:</B><DD><CODE>channel</CODE> - the contact to the smartcard<DD><CODE>delta</CODE> - the 3-byte unsigned amount by which to decrease<DT><B>Returns:</B><DD>the record after the operation<DT><B>Throws:</B><DD>opencard.core.service.CardServiceException - if the service encountered an error<DD>opencard.core.terminal.CardTerminalException - if the terminal encountered an error</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" ID="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT ID="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="package-summary.html"><FONT ID="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" ID="NavBarCell1Rev"> &nbsp;<FONT ID="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="package-tree.html"><FONT ID="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT ID="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT ID="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" ID="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT ID="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" ID="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../com/ibm/opencard/isofs/MFC35FileSRParser.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" ID="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MFC35FileAccessImpl.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" ID="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" ID="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>

</BODY>
</HTML>
